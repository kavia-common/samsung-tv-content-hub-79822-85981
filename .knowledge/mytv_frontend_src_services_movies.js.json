{"is_source_file": true, "format": "JavaScript", "description": "This file 'movies.js' provides data services for fetching, normalizing, and organizing movie data from an external API with fallback options. It exports functions to fetch movies, trends, banners, and organize data into UI-ready structures, including mock data for fallback purposes.", "external_files": ["fetch", "https://", "api.kavia.app"], "external_methods": ["fetch"], "published": ["mapApiToItem", "fetchMovies", "fetchHomeData", "fetchTrending", "getBanner", "getRailsData"], "classes": [], "methods": [{"name": "normGenres(rawGenres)", "description": "Normalizes raw genre input (string, array, or falsy) into an array of genre strings.", "scope": "", "scopeKind": ""}, {"name": "tryFetchJson(url, opts)", "description": "Performs a fetch request expecting JSON response, throwing an error on non-OK response.", "scope": "", "scopeKind": ""}, {"name": "mapApiToItem(raw = {}, idx = 0)", "description": "Maps raw API movie item to normalized object with keys: id, name, poster, genre.", "scope": "", "scopeKind": ""}, {"name": "fetchMovies()", "description": "Fetches movie data from API with fallback to local placeholder data, and returns grouped rails.", "scope": "", "scopeKind": ""}, {"name": "fetchHomeData()", "description": "Alias for fetchMovies() to maintain existing import interfaces.", "scope": "", "scopeKind": ""}, {"name": "fetchTrending()", "description": "Returns top trending movies, falling back to local data if API fetch fails.", "scope": "", "scopeKind": ""}, {"name": "getBanner()", "description": "Returns a banner object with id, title, backdrop, and subtitle, using API data or fallback.", "scope": "", "scopeKind": ""}, {"name": "getRailsData(items = [])", "description": "Organizes a flat list of movies into categorized rails, prioritizing trending and genre-based grouping.", "scope": "", "scopeKind": ""}, {"name": "groupBy(arr, keyGetter)", "description": "Utility to group array elements by a key derived from each element.", "scope": "", "scopeKind": ""}, {"name": "dataThumb(label = '')", "description": "Generates an inline SVG data URL for a placeholder thumbnail with a label.", "scope": "", "scopeKind": ""}, {"name": "dataBanner()", "description": "Generates an inline SVG data URL for a banner background.", "scope": "", "scopeKind": ""}, {"name": "localHomeRails()", "description": "Returns grouped local placeholder movie data.", "scope": "", "scopeKind": ""}, {"name": "buildLocalItems()", "description": "Builds a list of placeholder movie items with inline SVG posters, categorized by genre.", "scope": "", "scopeKind": ""}], "calls": ["fetch", "tryFetchJson", "mapApiToItem", "getRailsData"], "search-terms": ["movies.js", "data service", "fetchMovies", "getBanner", "fallback", "grouped rails", "normalize genres", "local placeholder data"], "state": 2, "file_id": 40, "knowledge_revision": 403, "git_revision": "15107b9ba96cc93ea750831d34b05d555da8876b", "revision_history": [{"339": ""}, {"353": "6cf1b28f80f89b48895bfc65608ec91d29ee26a0"}, {"354": "6cf1b28f80f89b48895bfc65608ec91d29ee26a0"}, {"355": "6cf1b28f80f89b48895bfc65608ec91d29ee26a0"}, {"358": "a4090dbd924d881c7ff3f9bc0269665f07d638d3"}, {"388": "a4090dbd924d881c7ff3f9bc0269665f07d638d3"}, {"391": "d61759f3b5a5b5f50d1b2b8c577c65451e468248"}, {"394": "d61759f3b5a5b5f50d1b2b8c577c65451e468248"}, {"395": "d61759f3b5a5b5f50d1b2b8c577c65451e468248"}, {"397": "fe55b639f9e5a5f78e1009e40d72682477502c63"}, {"403": "15107b9ba96cc93ea750831d34b05d555da8876b"}], "ctags": [{"_type": "tag", "name": "API_BASE", "path": "/home/kavia/workspace/code-generation/samsung-tv-content-hub-79822-85981/mytv_frontend/src/services/movies.js", "pattern": "/^const API_BASE = 'https:\\/\\/5bc9cfc0.api.kavia.app';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "Action", "path": "/home/kavia/workspace/code-generation/samsung-tv-content-hub-79822-85981/mytv_frontend/src/services/movies.js", "pattern": "/^    Action: [$/", "language": "JavaScript", "kind": "property", "scope": "buildLocalItems.genres", "scopeKind": "class"}, {"_type": "tag", "name": "Comedy", "path": "/home/kavia/workspace/code-generation/samsung-tv-content-hub-79822-85981/mytv_frontend/src/services/movies.js", "pattern": "/^    Comedy: [$/", "language": "JavaScript", "kind": "property", "scope": "buildLocalItems.genres", "scopeKind": "class"}, {"_type": "tag", "name": "Drama", "path": "/home/kavia/workspace/code-generation/samsung-tv-content-hub-79822-85981/mytv_frontend/src/services/movies.js", "pattern": "/^    Drama: [$/", "language": "JavaScript", "kind": "property", "scope": "buildLocalItems.genres", "scopeKind": "class"}, {"_type": "tag", "name": "Horror", "path": "/home/kavia/workspace/code-generation/samsung-tv-content-hub-79822-85981/mytv_frontend/src/services/movies.js", "pattern": "/^    Horror: [$/", "language": "JavaScript", "kind": "property", "scope": "buildLocalItems.genres", "scopeKind": "class"}, {"_type": "tag", "name": "Other Genres", "path": "/home/kavia/workspace/code-generation/samsung-tv-content-hub-79822-85981/mytv_frontend/src/services/movies.js", "pattern": "/^    'Other Genres': [$/", "language": "JavaScript", "kind": "property", "scope": "buildLocalItems.genres", "scopeKind": "class"}, {"_type": "tag", "name": "buildLocalItems", "path": "/home/kavia/workspace/code-generation/samsung-tv-content-hub-79822-85981/mytv_frontend/src/services/movies.js", "pattern": "/^function buildLocalItems() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "dataBanner", "path": "/home/kavia/workspace/code-generation/samsung-tv-content-hub-79822-85981/mytv_frontend/src/services/movies.js", "pattern": "/^function dataBanner() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "dataThumb", "path": "/home/kavia/workspace/code-generation/samsung-tv-content-hub-79822-85981/mytv_frontend/src/services/movies.js", "pattern": "/^function dataThumb(label = '') {$/", "language": "JavaScript", "kind": "function", "signature": "(label = '')"}, {"_type": "tag", "name": "fetchHomeData", "path": "/home/kavia/workspace/code-generation/samsung-tv-content-hub-79822-85981/mytv_frontend/src/services/movies.js", "pattern": "/^export async function fetchHomeData() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "fetchMovies", "path": "/home/kavia/workspace/code-generation/samsung-tv-content-hub-79822-85981/mytv_frontend/src/services/movies.js", "pattern": "/^export async function fetchMovies() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "fetchTrending", "path": "/home/kavia/workspace/code-generation/samsung-tv-content-hub-79822-85981/mytv_frontend/src/services/movies.js", "pattern": "/^export async function fetchTrending() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "genres", "path": "/home/kavia/workspace/code-generation/samsung-tv-content-hub-79822-85981/mytv_frontend/src/services/movies.js", "pattern": "/^  const genres = {$/", "language": "JavaScript", "kind": "class", "scope": "buildLocalItems", "scopeKind": "class"}, {"_type": "tag", "name": "getBanner", "path": "/home/kavia/workspace/code-generation/samsung-tv-content-hub-79822-85981/mytv_frontend/src/services/movies.js", "pattern": "/^export async function getBanner() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getRailsData", "path": "/home/kavia/workspace/code-generation/samsung-tv-content-hub-79822-85981/mytv_frontend/src/services/movies.js", "pattern": "/^export function getRailsData(items = []) {$/", "language": "JavaScript", "kind": "function", "signature": "(items = [])"}, {"_type": "tag", "name": "groupBy", "path": "/home/kavia/workspace/code-generation/samsung-tv-content-hub-79822-85981/mytv_frontend/src/services/movies.js", "pattern": "/^function groupBy(arr, keyGetter) {$/", "language": "JavaScript", "kind": "function", "signature": "(arr, keyGetter)"}, {"_type": "tag", "name": "localHomeRails", "path": "/home/kavia/workspace/code-generation/samsung-tv-content-hub-79822-85981/mytv_frontend/src/services/movies.js", "pattern": "/^function localHomeRails() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "mapApiToItem", "path": "/home/kavia/workspace/code-generation/samsung-tv-content-hub-79822-85981/mytv_frontend/src/services/movies.js", "pattern": "/^export function mapApiToItem(raw = {}, idx = 0) {$/", "language": "JavaScript", "kind": "function", "signature": "(raw = {}, idx = 0)"}, {"_type": "tag", "name": "normGenres", "path": "/home/kavia/workspace/code-generation/samsung-tv-content-hub-79822-85981/mytv_frontend/src/services/movies.js", "pattern": "/^function normGenres(rawGenres) {$/", "language": "JavaScript", "kind": "function", "signature": "(rawGenres)"}, {"_type": "tag", "name": "tryFetchJson", "path": "/home/kavia/workspace/code-generation/samsung-tv-content-hub-79822-85981/mytv_frontend/src/services/movies.js", "pattern": "/^async function tryFetchJson(url, opts) {$/", "language": "JavaScript", "kind": "function", "signature": "(url, opts)"}], "hash": "49fb70d103e68524d1368b4c1f99a8c5", "format-version": 4, "code-base-name": "mytv_frontend", "filename": "mytv_frontend/src/services/movies.js", "fields": [{"name": "Action: [", "scope": "buildLocalItems.genres", "scopeKind": "class", "description": "unavailable"}, {"name": "Comedy: [", "scope": "buildLocalItems.genres", "scopeKind": "class", "description": "unavailable"}, {"name": "Drama: [", "scope": "buildLocalItems.genres", "scopeKind": "class", "description": "unavailable"}, {"name": "Horror: [", "scope": "buildLocalItems.genres", "scopeKind": "class", "description": "unavailable"}, {"name": "'Other Genres': [", "scope": "buildLocalItems.genres", "scopeKind": "class", "description": "unavailable"}]}