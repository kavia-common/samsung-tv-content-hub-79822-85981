{"is_source_file": true, "format": "JavaScript", "description": "This is a Node.js script used for packaging a Tizen application by creating a ZIP archive (.wgt file). It reads build outputs from the 'dist' directory, includes a configuration XML, and constructs a ZIP file using custom ZIP structures with no external dependencies.", "external_files": ["fs", "path", "zlib", "url", "crypto"], "external_methods": ["fs.readdirSync", "fs.readFileSync", "fs.statSync", "path.join", "path.relative", "path.resolve", "fileURLToPath", "Buffer.alloc", "Buffer.from", "console.log", "console.error"], "published": ["collectFiles", "crc32", "writeUInt16LE", "writeUInt32LE", "dosDateTime", "createStoredLocalHeader", "createCentralDirectoryRecord", "createEndOfCentralDirectory", "ensureExists", "main"], "classes": [], "methods": [{"name": "collectFiles(baseDir)", "description": "Recursively collects all files from the specified base directory, returning relative paths with forward slashes.", "scope": "", "scopeKind": ""}, {"name": "crc32(buffer)", "description": "Calculates the CRC32 checksum for a given buffer.", "scope": "", "scopeKind": ""}, {"name": "writeUInt16LE(num)", "description": "Creates a Buffer with a 16-bit unsigned integer in little-endian format.", "scope": "", "scopeKind": ""}, {"name": "writeUInt32LE(num)", "description": "Creates a Buffer with a 32-bit unsigned integer in little-endian format.", "scope": "", "scopeKind": ""}, {"name": "dosDateTime(date = new Date())", "description": "Converts a Date object to DOS date and time format used in ZIP file headers.", "scope": "", "scopeKind": ""}, {"name": "createStoredLocalHeader(fileName, data, mtime = new Date())", "description": "Creates a local file header for ZIP with 'store' (no compression) method.", "scope": "", "scopeKind": ""}, {"name": "createCentralDirectoryRecord(fileName, crc, compressedSize, uncompressedSize, localHeaderOffset, mtime = new Date())", "description": "Creates a central directory record for a ZIP archive.", "scope": "", "scopeKind": ""}, {"name": "createEndOfCentralDirectory(totalEntries, centralDirSize, centralDirOffset)", "description": "Creates the end of central directory record for a ZIP archive.", "scope": "", "scopeKind": ""}, {"name": "ensureExists(p, type = 'file')", "description": "Checks whether a directory or file exists and throws an error if not.", "scope": "", "scopeKind": ""}, {"name": "main()", "description": "Main function orchestrating the packaging process, including reading files, constructing ZIP structure, and writing output.", "scope": "", "scopeKind": ""}, {"name": "walk(dir)", "scope": "collectFiles", "scopeKind": "function", "description": "unavailable"}], "calls": ["fs.readdirSync", "fs.readFileSync", "fs.statSync", "path.join", "path.relative", "collectFiles", "createStoredLocalHeader", "createCentralDirectoryRecord", "createEndOfCentralDirectory", "ensureExists"], "search-terms": ["Node Tizen packager", "create ZIP archive", "package-tizen.js script", "ZIP file creation without external dependencies", "build output dist directory", "config.xml inclusion", "no compression ZIP", "manual ZIP structure in Node.js"], "state": 2, "file_id": 23, "knowledge_revision": 85, "git_revision": "", "ctags": [{"_type": "tag", "name": "__dirname", "path": "/home/kavia/workspace/code-generation/samsung-tv-content-hub-79822-85981/mytv_frontend/scripts/package-tizen.js", "pattern": "/^const __dirname = path.dirname(__filename)$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "__filename", "path": "/home/kavia/workspace/code-generation/samsung-tv-content-hub-79822-85981/mytv_frontend/scripts/package-tizen.js", "pattern": "/^const __filename = fileURLToPath(import.meta.url)$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "collectFiles", "path": "/home/kavia/workspace/code-generation/samsung-tv-content-hub-79822-85981/mytv_frontend/scripts/package-tizen.js", "pattern": "/^function collectFiles(baseDir) {$/", "language": "JavaScript", "kind": "function", "signature": "(baseDir)"}, {"_type": "tag", "name": "configXmlPath", "path": "/home/kavia/workspace/code-generation/samsung-tv-content-hub-79822-85981/mytv_frontend/scripts/package-tizen.js", "pattern": "/^const configXmlPath = path.join(projectRoot, 'config.xml')$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "crc32", "path": "/home/kavia/workspace/code-generation/samsung-tv-content-hub-79822-85981/mytv_frontend/scripts/package-tizen.js", "pattern": "/^function crc32(buffer) {$/", "language": "JavaScript", "kind": "function", "signature": "(buffer)"}, {"_type": "tag", "name": "createCentralDirectoryRecord", "path": "/home/kavia/workspace/code-generation/samsung-tv-content-hub-79822-85981/mytv_frontend/scripts/package-tizen.js", "pattern": "/^function createCentralDirectoryRecord(fileName, crc, compressedSize, uncompressedSize, localHead/", "language": "JavaScript", "kind": "function", "signature": "(fileName, crc, compressedSize, uncompressedSize, localHeaderOffset, mtime = new Date())"}, {"_type": "tag", "name": "createEndOfCentralDirectory", "path": "/home/kavia/workspace/code-generation/samsung-tv-content-hub-79822-85981/mytv_frontend/scripts/package-tizen.js", "pattern": "/^function createEndOfCentralDirectory(totalEntries, centralDirSize, centralDirOffset) {$/", "language": "JavaScript", "kind": "function", "signature": "(totalEntries, centralDirSize, centralDirOffset)"}, {"_type": "tag", "name": "createStoredLocalHeader", "path": "/home/kavia/workspace/code-generation/samsung-tv-content-hub-79822-85981/mytv_frontend/scripts/package-tizen.js", "pattern": "/^function createStoredLocalHeader(fileName, data, mtime = new Date()) {$/", "language": "JavaScript", "kind": "function", "signature": "(fileName, data, mtime = new Date())"}, {"_type": "tag", "name": "distDir", "path": "/home/kavia/workspace/code-generation/samsung-tv-content-hub-79822-85981/mytv_frontend/scripts/package-tizen.js", "pattern": "/^const distDir = path.join(projectRoot, 'dist')$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "dosDateTime", "path": "/home/kavia/workspace/code-generation/samsung-tv-content-hub-79822-85981/mytv_frontend/scripts/package-tizen.js", "pattern": "/^function dosDateTime(date = new Date()) {$/", "language": "JavaScript", "kind": "function", "signature": "(date = new Date())"}, {"_type": "tag", "name": "ensureExists", "path": "/home/kavia/workspace/code-generation/samsung-tv-content-hub-79822-85981/mytv_frontend/scripts/package-tizen.js", "pattern": "/^function ensureExists(p, type = 'file') {$/", "language": "JavaScript", "kind": "function", "signature": "(p, type = 'file')"}, {"_type": "tag", "name": "main", "path": "/home/kavia/workspace/code-generation/samsung-tv-content-hub-79822-85981/mytv_frontend/scripts/package-tizen.js", "pattern": "/^async function main() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "outputWgt", "path": "/home/kavia/workspace/code-generation/samsung-tv-content-hub-79822-85981/mytv_frontend/scripts/package-tizen.js", "pattern": "/^const outputWgt = path.join(projectRoot, 'app.wgt')$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "projectRoot", "path": "/home/kavia/workspace/code-generation/samsung-tv-content-hub-79822-85981/mytv_frontend/scripts/package-tizen.js", "pattern": "/^const projectRoot = path.resolve(__dirname, '..')$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "walk", "path": "/home/kavia/workspace/code-generation/samsung-tv-content-hub-79822-85981/mytv_frontend/scripts/package-tizen.js", "pattern": "/^  function walk(dir) {$/", "language": "JavaScript", "kind": "function", "signature": "(dir)", "scope": "collectFiles", "scopeKind": "function"}, {"_type": "tag", "name": "writeUInt16LE", "path": "/home/kavia/workspace/code-generation/samsung-tv-content-hub-79822-85981/mytv_frontend/scripts/package-tizen.js", "pattern": "/^function writeUInt16LE(num) {$/", "language": "JavaScript", "kind": "function", "signature": "(num)"}, {"_type": "tag", "name": "writeUInt32LE", "path": "/home/kavia/workspace/code-generation/samsung-tv-content-hub-79822-85981/mytv_frontend/scripts/package-tizen.js", "pattern": "/^function writeUInt32LE(num) {$/", "language": "JavaScript", "kind": "function", "signature": "(num)"}], "hash": "cd40dda0255a20a0044c7843bd3c11da", "format-version": 4, "code-base-name": "mytv_frontend", "filename": "mytv_frontend/scripts/package-tizen.js", "revision_history": [{"85": ""}]}